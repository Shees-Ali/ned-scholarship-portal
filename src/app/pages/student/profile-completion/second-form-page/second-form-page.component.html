<div class="form-content">
  <p class="form-heading">Guardian info</p>

  <form [formGroup]="secondFormGroup">
    <mat-grid-list cols="3" rowHeight="100px">
      <mat-grid-tile [colspan]="1" [rowspan]="1">
        <mat-form-field class="form-field">
          <mat-label>Name</mat-label>
          <input matInput formControlName="guardian_name" required />
        </mat-form-field>
      </mat-grid-tile>
      <mat-grid-tile [colspan]="1" [rowspan]="1">
        <mat-form-field class="form-field">
          <mat-label>Relation with Applicant</mat-label>
          <input matInput formControlName="guardian_relation" required />
        </mat-form-field>
      </mat-grid-tile>
      <mat-grid-tile [colspan]="1" [rowspan]="1">
        <mat-form-field class="form-field">
          <mat-label>Occupation</mat-label>
          <input matInput formControlName="guardian_occupation" required />
        </mat-form-field>
      </mat-grid-tile>
      <mat-grid-tile [colspan]="1" [rowspan]="1">
        <mat-form-field class="form-field">
          <mat-label>Gross Salary/Income</mat-label>
          <input matInput formControlName="gross_income" required />
        </mat-form-field>
      </mat-grid-tile>
      <mat-grid-tile [colspan]="1" [rowspan]="1">
        <mat-form-field class="form-field">
          <mat-label>Number of Earners</mat-label>
          <input matInput formControlName="number_of_earners" required />
        </mat-form-field>
      </mat-grid-tile>
      <mat-grid-tile [colspan]="1" [rowspan]="1">
        <mat-form-field class="form-field">
          <mat-label>Total Family Income</mat-label>
          <input matInput formControlName="total_income" required />
        </mat-form-field>
      </mat-grid-tile>
      <mat-grid-tile [colspan]="1" [rowspan]="1">
        <mat-form-field class="form-field">
          <mat-label>Contact Number</mat-label>
          <input matInput formControlName="guardian_contact" required />
        </mat-form-field>
      </mat-grid-tile>
      <mat-grid-tile [colspan]="1" [rowspan]="1">
        <mat-form-field class="form-field">
          <mat-label>Contact Number (Office)</mat-label>
          <input matInput formControlName="guardian_contact_office" required />
        </mat-form-field>
      </mat-grid-tile>
      <mat-grid-tile [colspan]="1" [rowspan]="1">
        <mat-form-field class="form-field">
          <mat-label>Monetary Assistance by Guardian</mat-label>
          <input matInput formControlName="guardian_monetry_assistance" required />
        </mat-form-field>
      </mat-grid-tile>
      <mat-grid-tile [colspan]="2" [rowspan]="1">
        <mat-form-field class="form-field">
          <mat-label>Residential Address</mat-label>
          <input matInput formControlName="guardian_residential_address" required />
        </mat-form-field>
      </mat-grid-tile>
    </mat-grid-list>
    <p class="form-subheading">List of Dependents on Guardian</p>


    <mat-grid-list cols="1" rowHeight="8:1">
    <!-- <article> -->
      <mat-grid-tile>
      <mat-table [dataSource]="dataSource">
        <ng-container [matColumnDef]="col.key" *ngFor="let col of columnsSchema">
          <mat-header-cell *matHeaderCellDef>
            {{ col.label }}
          </mat-header-cell>
          <mat-cell *matCellDef="let element">
            <div [ngSwitch]="col.type" *ngIf="!element.isEdit">
              <div class="btn-edit" *ngSwitchCase="'isEdit'">
                <button mat-button (click)="element.isEdit = !element.isEdit">Edit</button>
              </div>
              <span *ngSwitchDefault>
                {{ element[col.key] }}
              </span>
            </div>
            <div *ngIf="element.isEdit">
              <div class="btn-edit" *ngIf="col.key === 'isEdit'; else dataField">
                <button mat-button (click)="element.isEdit = !element.isEdit">Done</button>
              </div>
              <ng-template #dataField>
                <mat-form-field>
                  <input
                    class="dependents-input"
                    name
                    matInput
                    [(ngModel)]="element[col.key]"
                  />
                </mat-form-field>
              </ng-template>
            </div>
          </mat-cell>
        </ng-container>
        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
        </mat-table>
        </mat-grid-tile>
      </mat-grid-list>
    <!-- </article> -->
    <div class="next-btn">
      <button (click)="next.emit()" class="green-btn" mat-button>Next</button>
    </div>
  </form>  
</div>


